---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProcessStepper from '../components/ProcessStepper.astro';
import { createHomePageSchemas } from '../lib/schema/factories';
import { Flame, ShowerHead, Droplets, Bath, Siren, ArrowRight } from '@lucide/astro';
import '../styles/pages/index.css';

// Homepage gets WebSite + WebPage schemas
const homePageSchemas = await createHomePageSchemas();

---

<BaseLayout
  title="GoFlow Plumbing | Sonoma & Marin County Plumbers"
  description="3rd generation plumbers serving Sonoma & Marin County. Water heater repair, drain cleaning, leak detection & 24/7 emergency service. Call (707) 200-8350."
  schema={homePageSchemas}
>
  <div>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-container">
        <h1>GoFlow Plumbing — 3rd Generation Experts</h1>
        <div class="hero-text">
          <p>
            GoFlow Plumbing are your Sonoma County and Marin County third generation plumbers.
            Make your plumbing problem ours — we'll treat your home better than our own mom's.<br />
            Sorry, mom.
          </p>
        </div>
        <div class="space-x-4">
          <a href="/contact-us/" class="btn btn-primary">Contact Us Now</a>
          <a href="/plumbing-services/" class="btn btn-secondary">Our Services</a>
        </div>
      </div>
    </section>
    
    <!-- Problem Selector -->
    <section class="problems">
      <div class="problems-container">
        <h2>Which Plumbing Problem of Yours Do We Get to Fix?</h2>
        <div class="problems-grid">
          <a href="/water-heater-repair-and-replacement/" class="problem-tile">
            <Flame class="problem-icon" />
            <span class="problem-text">No hot water</span>
          </a>
          <a href="/clogged-drains-rootered/" class="problem-tile">
            <ShowerHead class="problem-icon" />
            <span class="problem-text">Drain clogged</span>
          </a>
          <a href="/leak-detection-and-repair/" class="problem-tile">
            <Droplets class="problem-icon" />
            <span class="problem-text">Leak</span>
          </a>
          <a href="/clogged-or-running-toilets/" class="problem-tile">
            <Bath class="problem-icon" />
            <span class="problem-text">Toilet issue</span>
          </a>
          <a href="/emergency-plumbing-services/" class="problem-tile problem-tile-emergency">
            <Siren class="problem-icon" />
            <span class="problem-text">Emergency</span>
          </a>
          <a href="/plumbing-services/" class="problem-tile problem-tile-all">
            <ArrowRight class="problem-icon" />
            <span class="problem-text">All services</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Process Stepper - Extreme Communication -->
    <ProcessStepper />

    <!-- Customer Reviews -->
    <section class="reviews">
      <div>
        <h2>What Our Customers Say</h2>
        <div class="reviews-grid">
          <div class="review-card">
            <div class="review-header">
              <span class="reviewer-name">Kip B.</span>
              <span class="review-date">Oct 2024</span>
            </div>
            <div class="review-rating">★★★★★</div>
            <div class="review-service">Water Heater Installation and Replacement</div>
            <p class="review-text">Chris knows what he's doing, is very conscientious and takes all the time necessary to get the job done right. His prices are the most reasonable I've found. He's my new plumber, highly recommended.</p>
          </div>
          <div class="review-card">
            <div class="review-header">
              <span class="reviewer-name">Bert P.</span>
              <span class="review-date">Sep 2024</span>
            </div>
            <div class="review-rating">★★★★★</div>
            <div class="review-service">Water Heater Installation and Replacement</div>
            <p class="review-text">Chris was prompt to reply to your texts. Chris was conscientious about letting you know he was going to be a little late and why. He was very polite, clean and organized. The job was completed faster than I expected. I am extremely pleased with his work and will highly recommend him. Would not hesitate to used him again. He also had a very competitive price.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Why Choose Us -->
    <section class="choose-us">
      <div>
        <h2>Why Homeowners Choose GoFlow Plumbing</h2>
        <div>
          <div>
            <h3>24/7 Emergency Service</h3>
            <p>Available around the clock for all your plumbing emergencies</p>
          </div>
          <div>
            <h3>Licensed & Insured</h3>
            <p>Professional, experienced, and fully certified plumbers</p>
          </div>
          <div>
            <h3>Fair & Honest Pricing</h3>
            <p>Transparent pricing with no hidden fees or surprises</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Service Areas -->
    <section class="service-areas">
      <div>
        <h2>GoFlow Plumbing Service Areas</h2>
        <p class="section-intro">GoFlow Plumbing proudly serves homeowners throughout the North Bay. Whether you're in wine country or near the coast, we're your local plumbing experts.</p>
        <div>
          <div>
            <a href="/sonoma-county-plumbing/">
              <h3>Sonoma County Plumbing</h3>
              <p>Santa Rosa, Petaluma, Healdsburg, Sonoma, and surrounding communities. GoFlow Plumbing knows Sonoma County plumbing.</p>
            </a>
          </div>
          <div>
            <a href="/marin-county-plumbing/">
              <h3>Marin County Plumbing</h3>
              <p>San Rafael, Novato, Mill Valley, and throughout Marin. GoFlow Plumbing understands the unique plumbing needs of Marin homes.</p>
            </a>
          </div>
        </div>
      </div>
    </section>


    <!-- CTA Section -->
    <section class="cta">
      <div>
        <h2>You Need a Plumber Call GoFlow Plumbing</h2>
        <p>Contact GoFlow Plumbing now for fast, reliable service in Sonoma County and Marin County</p>
        <a href="/contact-us/">
          Get in Touch
        </a>
    </div>
  </section>
</BaseLayout>
